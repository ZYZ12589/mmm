{{extend ("./layout.html")}}

{{#block ("head")}}
  <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.config.js"></script>
<script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.all.js"> </script>
<script type="text/javascript" charset="utf-8" src="/ueditor/lang/zh-cn/zh-cn.js"> </script>

{{/block}}

{{#block ("body")}}
<div class="panel panel-default " role="document" >
        
         <form id="f1" action="/admin/edit" class="form-horizontal" method="post">
            <div class="panel-heading">
               
                <h4 class="panel-title" id="gridSystemModalLabel">编辑课程</h4>
            </div>
            
            <input type="hidden" name="id" value="{{ _id }}">
            <div class="panel-body">
                 
                        <div class="form-group">
                            <label class="control-label col-sm-2">标题:
                            </label>
                            <div class="col-sm-6">
                            <input type="text" class="form-control" name="title" placeholder="请输入课程标题"  value="{{ title }}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2">图片地址:
                            </label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" placeholder="请输入图片地址"  name="imgsrc" value="{{ imgsrc }}">
                            </div>
                        </div>
                          <div class="form-group">
                            <label class="control-label col-sm-2">课程摘要：
                            </label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" placeholder="请输入课程摘要"  name="summary" value="{{ summary }}">
                            </div>
                        </div>
                          <div class="form-group">
                            <label class="control-label col-sm-2">课程详情：
                            </label>
                            <div class="col-sm-6">
                             <script id="editor" type="text/plain" style="width:600px;height:300px;"></script>
                            
                             <script>
                                 var ue = UE.getEditor('editor',{},function(){
                                    //1.0 修改 ueditor.all.js文件中的getEditor实现一个回调函数
                                    //来解决我们的异步加载问题
                                    var value = '{{ content }}';
                                    //利用jquery的html方法将&lt; &gt; 转换为 < >后再取出
                                    var res = $('<span />').html(value).text();
                                  
                                    UE.getEditor('editor').execCommand('insertHtml', res);
                                 });

                             </script>
                            </div>
                        </div>
                         <div class="form-group">
                            <label class="control-label col-sm-2">说明：
                            </label>
                            <div class="col-sm-6">
                        
                <button type="submit" class="btn btn-primary" >保存</button>
                     <button type="button" class="btn btn-primary" onclick="window.location='/admin/list'" >返回</button>
                             
                            </div>
                        </div>
                   
                </div>
               
            </div>

</form>

{{/block}}
